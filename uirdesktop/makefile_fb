
# makefile
# fb

CC = gcc

OBJS = tcp.o iso.o mcs.o secure.o rdp.o rdp5.o orders.o \
bitmap.o cache.o mppc.o pstcache.o channels.o licence.o \
ssl_calls.o

UIOBJS = uimain.o bsops.o fb.o


CFLAGS = -O2 -Wall
# -I$(INCDIR)
# -DWITH_DEBUG

LDFLAGS = -L$(ROOTFS)/usr/local/lib -L$(ROOTFS)/usr/lib -L$(ROOTFS)/lib

all: rd

rd: $(OBJS) $(UIOBJS)
	$(CC) -o fbrdesktop $(LDFLAGS) $(OBJS) $(UIOBJS)

clean:
	rm -f $(OBJS) $(UIOBJS) fbrdesktop librdesktop.so

librdesktop.so: $(OBJS) $(UIOBJS)
	$(CC) $(LDFLAGS) -shared -o librdesktop.so $(OBJS) $(UIOBJS)
